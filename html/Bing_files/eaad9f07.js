var SpeechServiceHelper;(function(n){function c(u,f,o){var c,l;e=u;t=f;r()&&t&&(c=sessionStorage.getItem(n.tokenSessionExpiry),c&&(l=Number(atob(c)),h(l)&&s(sessionStorage.getItem(n.tokenSessionKey),l,atob(sessionStorage.getItem(n.tokenSessionRegion)))));!n.validTokenpresent&&o&&i()}function i(t,i){t===void 0&&(t=n.emptyFunction);i===void 0&&(i=n.emptyFunction);var r=sj_gx();r.open("POST",RichTranslateHelper.getInstEndPointUrl(e,transDom.iid,f++),!0);r.setRequestHeader("Content-type","application/x-www-form-urlencoded");r.onreadystatechange=function(){if(r.readyState===4){if(r.status===200&&r.responseText){var n=JSON.parse(r.responseText);if(y(n)){w(n.token,n.expiry,n.region,t);return}}o();i()}};r.send("")}function r(){return typeof Storage=="undefined"||typeof sessionStorage=="undefined"?!1:!0}function l(n){for(var i="",r=new Uint8Array(n),u=r.byteLength,t=0;t<u;t++)i+=String.fromCharCode(r[t]);return btoa(i)}function a(n){var t="";switch(n){case"ar":t="ar-EG";break;case"ca":t="ca-ES";break;case"da":t="da-DK";break;case"de":t="de-DE";break;case"en":t="en-US";break;case"es":t="es-ES";break;case"fi":t="fi-FI";break;case"fr":t="fr-FR";break;case"hi":t="hi-IN";break;case"it":t="it-IT";break;case"ja":t="ja-JP";break;case"ko":t="ko-KR";break;case"nb":t="nb-NO";break;case"nl":t="nl-NL";break;case"pl":t="pl-PL";break;case"pt":t="pt-PT";break;case"ru":t="ru-RU";break;case"sv":t="sv-SE";break;case"th":t="th-TH";break;case"zh-Hans":t="zh-CN";break;case"zh-Hant":t="zh-HK";break;case"yue":t="zh-HK"}return t}function v(n){var t="",i="",r="";switch(n){case"ar":t="ar-SA";i="Male";r="ar-SA-Naayf";break;case"bg":t="bg-BG";i="Male";r="bg-BG-Ivan";break;case"ca":t="ca-ES";i="Female";r="ca-ES-HerenaRUS";break;case"cs":t="cs-CZ";i="Male";r="cs-CZ-Jakub";break;case"da":t="da-DK";i="Female";r="da-DK-HelleRUS";break;case"de":t="de-DE";i="Female";r="de-DE-Hedda";break;case"el":t="el-GR";i="Male";r="el-GR-Stefanos";break;case"en":t="en-US";i="Female";r="en-US-JessaRUS";break;case"es":t="es-ES";i="Female";r="es-ES-Laura-Apollo";break;case"fi":t="fi-FI";i="Female";r="fi-FI-HeidiRUS";break;case"fr":t="fr-FR";i="Female";r="fr-FR-Julie-Apollo";break;case"he":t="he-IL";i="Male";r="he-IL-Asaf";break;case"hi":t="hi-IN";i="Female";r="hi-IN-Kalpana-Apollo";break;case"hr":t="hr-HR";i="Male";r="hr-HR-Matej";break;case"hu":t="hu-HU";i="Male";r="hu-HU-Szabolcs";break;case"id":t="id-ID";i="Male";r="id-ID-Andika";break;case"it":t="it-IT";i="Male";r="it-IT-Cosimo-Apollo";break;case"ja":t="ja-JP";i="Female";r="ja-JP-Ayumi-Apollo";break;case"ko":t="ko-KR";i="Female";r="ko-KR-HeamiRUS";break;case"ms":t="ms-MY";i="Male";r="ms-MY-Rizwan";break;case"nl":t="nl-NL";i="Female";r="nl-NL-HannaRUS";break;case"nb":t="nb-NO";i="Female";r="nb-NO-HuldaRUS";break;case"no":t="nb-NO";i="Female";r="nb-NO-HuldaRUS";break;case"pl":t="pl-PL";i="Female";r="pl-PL-PaulinaRUS";break;case"pt":t="pt-PT";i="Female";r="pt-PT-HeliaRUS";break;case"ro":t="ro-RO";i="Male";r="ro-RO-Andrei";break;case"ru":t="ru-RU";i="Female";r="ru-RU-Irina-Apollo";break;case"sk":t="sk-SK";i="Male";r="sk-SK-Filip";break;case"sl":t="sl-SL";i="Male";r="sl-SI-Lado";break;case"sv":t="sv-SE";i="Female";r="sv-SE-HedvigRUS";break;case"ta":t="ta-IN";i="Female";r="ta-IN-Valluvar";break;case"te":t="te-IN";i="Male";r="te-IN-Chitra";break;case"th":t="th-TH";i="Male";r="th-TH-Pattara";break;case"tr":t="tr-TR";i="Female";r="tr-TR-SedaRUS";break;case"vi":t="vi-VN";i="Male";r="vi-VN-An";break;case"zh-Hans":t="zh-CN";i="Female";r="zh-CN-HuihuiRUS";break;case"zh-Hant":t="zh-CN";i="Female";r="zh-CN-HuihuiRUS";break;case"yue":t="zh-HK";i="Female";r="zh-HK-TracyRUS"}return new p(t,i,r)}function o(){n.validTokenpresent=!1;n.authToken="";n.tokenExpiryInMilliSecs=0;n.regionKey=""}function s(t,i,r){n.validTokenpresent=!0;n.authToken=t;n.regionKey=r;n.tokenExpiryInMilliSecs=i*1e3-Date.now()-u}function h(n){return!isNaN(n)&&n*1e3-u>Date.now()}function y(n){if(n&&n.hasOwnProperty("statusCode")&&n.statusCode===200&&n.hasOwnProperty("token")&&n.hasOwnProperty("expiry")&&n.hasOwnProperty("region")){var t=Number(n.expiry);return h(t)}return!1}function p(n,t,i){this.locale=n;this.gender=t;this.voiceName=i}function w(u,f,e,h){h===void 0&&(h=n.emptyFunction);s(u,f,e);r()&&t&&(sessionStorage.setItem(n.tokenSessionKey,u),sessionStorage.setItem(n.tokenSessionExpiry,btoa(f+"")),sessionStorage.setItem(n.tokenSessionRegion,btoa(e)));h();setTimeout(function(){o();i()},n.tokenExpiryInMilliSecs)}var u=3e4,f,e,t;n.tokenSessionKey="TTSR";n.tokenSessionExpiry="TE";n.tokenSessionRegion="TR";n.emptyFunction=function(){};n.validTokenpresent=!1;f=1;n.init=c;n.fetchOrUpdateSpeechAuthTokenOnDemand=i;n.isSessionStorageSupported=r;n.arrayBufferToBase64=l;n.mapSelectedLanguageToVoiceInputLanguageCode=a;n.mapSelectedLanguageToTextOutputLanguageCode=v})(SpeechServiceHelper||(SpeechServiceHelper={}))